{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../Message.svelte",
    "../../Tchat.svelte",
    "../../TchatHeader.svelte",
    "../../TchatInput.svelte",
    "../../Channel.svelte"
  ],
  "sourcesContent": [
    "<script>\n  export let alignRight = false;\n  export let message = {\n    username: \"Unknown\",\n    message: \"\",\n    time: Date.now()\n  };\n</script>\n\n<style>\n  .root {\n    margin-bottom: 15px;\n  }\n\n  .time {\n    color: #a8aab1;\n    padding-left: 6px;\n  }\n\n  .message {\n    color: white;\n    padding: 18px 20px;\n    line-height: 26px;\n    font-size: 16px;\n    border-radius: 7px;\n    margin-bottom: 30px;\n    width: 90%;\n    position: relative;\n  }\n\n  .message:after {\n    bottom: 100%;\n    left: 7%;\n    border: solid transparent;\n    content: \" \";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n    border-bottom-color: #86bb71;\n    border-width: 10px;\n    margin-left: -10px;\n  }\n\n  .my-message {\n    background: #86bb71;\n  }\n\n  .other-message {\n    background: #94c2ed;\n  }\n\n  .other-message:after {\n    border-bottom-color: #94c2ed;\n    left: 93%;\n  }\n\n  .online,\n  .me {\n    margin-right: 3px;\n    font-size: 10px;\n  }\n\n  .online {\n    color: #86bb71;\n  }\n\n  .me {\n    color: #94c2ed;\n  }\n\n  .align-right {\n    text-align: right;\n  }\n  .float-right {\n    float: right;\n  }\n</style>\n\n{#if alignRight}\n  <div>\n    <div class=\"root align-right\">\n      <span class=\"time\">\n        {`${new Date(message.time).toLocaleDateString()} ${new Date(message.time).toLocaleTimeString()}`}\n      </span>\n      &nbsp; &nbsp;\n      <span>{message.username}</span>\n      <i class=\"fa fa-circle me\" />\n    </div>\n    <div class=\"message other-message float-right\">{message.message}</div>\n  </div>\n{:else}\n  <div>\n    <div class=\"root\">\n      <span>\n        <i class=\"fa fa-circle online\" />\n        {message.username}\n      </span>\n      <span class=\"time\">\n        {`${new Date(message.time).toLocaleDateString()} ${new Date(message.time).toLocaleTimeString()}`}\n      </span>\n    </div>\n    <div class=\"message my-message\">{message.message}</div>\n  </div>\n{/if}\n",
    "<script>\n  import { onMount, beforeUpdate, afterUpdate } from \"svelte\";\n  import { querystring } from \"svelte-spa-router\";\n\n  import { createChannelStore } from \"../channel/store\";\n  import Message from \"./Message.svelte\";\n  import TchatHeader from \"./TchatHeader.svelte\";\n  import TchatInput from \"./TchatInput.svelte\";\n\n  const getUsername = querystring => {\n    const match = querystring.match(/user=([^&]*)/);\n    return match ? match[1] : null;\n  };\n\n  export let channelId;\n  let messages = [];\n  let username = getUsername($querystring) || \"Unknown\";\n\n  let div;\n  let autoscroll;\n\n  beforeUpdate(() => {\n    autoscroll =\n      div && div.offsetHeight + div.scrollTop > div.scrollHeight - 20;\n  });\n\n  afterUpdate(() => {\n    if (autoscroll) div.scrollTo(0, div.scrollHeight);\n  });\n\n  const handleSendMessage = async e => {\n    await fetch(`http://localhost:3000/${channelId}/send`, {\n      body: JSON.stringify({\n        message: e.detail.text,\n        username,\n        time: Date.now()\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\"\n    });\n  };\n\n  onMount(() => {\n    const store = createChannelStore(channelId);\n\n    store.subscribe(incomingMessages => {\n      messages = incomingMessages;\n    });\n\n    return store.close;\n  });\n</script>\n\n<style>\n  .root {\n    margin: 0 auto;\n    width: 750px;\n    border-radius: 5px;\n    background: #f2f5f8;\n    border-radius: 5px;\n    color: #434651;\n  }\n\n  .root .history {\n    padding: 30px 30px 20px;\n    border-bottom: 2px solid white;\n    overflow-y: scroll;\n    max-height: 375px;\n  }\n\n  .root .history ul {\n    list-style-type: none;\n  }\n\n  .clearfix:after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: \" \";\n    clear: both;\n    height: 0;\n  }\n</style>\n\n<div class=\"root\">\n  <TchatHeader title={`Chat on ${channelId}`} messageCount={messages.length} />\n  <div class=\"history\" bind:this={div}>\n    <ul>\n      {#each messages as message, i}\n        <li class=\"clearfix\">\n          <Message alignRight={i % 2} {message} />\n        </li>\n      {/each}\n    </ul>\n  </div>\n  <TchatInput on:message={handleSendMessage} />\n</div>\n",
    "<script>\n  export let title = \"Chat\";\n  export let messageCount = 0;\n</script>\n\n<style>\n  .root {\n    padding: 20px;\n    border-bottom: 2px solid white;\n  }\n\n  .root img {\n    float: left;\n  }\n\n  .root .about {\n    float: left;\n    padding-left: 10px;\n    margin-top: 6px;\n  }\n\n  .root .with {\n    font-weight: bold;\n    font-size: 16px;\n  }\n\n  .root .num-messages {\n    color: #92959e;\n  }\n\n  .root .fa-star {\n    float: right;\n    color: #d8dadf;\n    font-size: 20px;\n    margin-top: 12px;\n  }\n\n  .clearfix:after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: \" \";\n    clear: both;\n    height: 0;\n  }\n</style>\n\n<div class=\"root clearfix\">\n  <img\n    src=\"./logo.png\"\n    alt=\"avatar\"\n    width=\"55\" />\n  <div class=\"about\">\n    <div class=\"with\">{title}</div>\n    <div class=\"num-messages\">\n      already {messageCount > 1 ? `${messageCount} messages` : `${messageCount} message`}\n    </div>\n  </div>\n  <i class=\"fa fa-star\" />\n</div>\n",
    "<script>\n  import { createEventDispatcher } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n  let value = \"\";\n\n  const handleSubmit = () => {\n    dispatch(\"message\", { text: value });\n\n    value = \"\";\n  };\n</script>\n\n<style>\n  .root {\n    padding: 30px;\n  }\n\n  .root:after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: \" \";\n    clear: both;\n    height: 0;\n  }\n\n  textarea {\n    width: 100%;\n    border: none;\n    padding: 10px 20px;\n    font: 14px/22px \"Lato\", Arial, sans-serif;\n    margin-bottom: 10px;\n    border-radius: 5px;\n    resize: none;\n  }\n\n  button {\n    float: right;\n    color: #94c2ed;\n    font-size: 16px;\n    text-transform: uppercase;\n    border: none;\n    cursor: pointer;\n    font-weight: bold;\n    background: #f2f5f8;\n  }\n\n  button:hover {\n    color: #75b1e8;\n  }\n</style>\n\n<div class=\"root\">\n  <textarea bind:value placeholder=\"Type your message\" rows=\"3\" />\n  <button on:click={handleSubmit}>Send</button>\n</div>\n",
    "<script>\n  import Tchat from \"../components/Tchat.svelte\";\n\n  export let params = {};\n</script>\n\n<style>\n  .root {\n    padding: 80px 0;\n  }\n</style>\n\n<div class=\"root\">\n  <Tchat channelId={params.id} />\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}